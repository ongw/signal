<em>
<html>
  <head>
    <title>signal</title>
	  <script src="brain-0.6.3.js"></script>
    <script src="https://js.leapmotion.com/leap-0.6.4.js"></script>
    <div id=output></div>
    <script>
      var output = document.getElementById('output');

    	function sleep(milliseconds) {
    	  var start = new Date().getTime();
    	  for (var i = 0; i < 1e7; i++) {
    	    if ((new Date().getTime() - start) > milliseconds){
    	      break;
    	    }
    	  }
    	}
      output.innerHTML = "START1";
      var net = new brain.NeuralNetwork({
  hiddenLayers: [5, 5],
  learningRate: 0.6
});
      var a = 1;
      var b = 0;

      net.train([ {input: [0.8026865204898422, 0.877374922515164, 0.908034951806988, 0.8628426515564063, 0.7951241028196101], output: [a]},
{input: [0.8026865204898422, 0.877374922515164, 0.908034951806988, 0.8628426515564063, 0.7951241028196101], output: [a]},
{input: [0.8497757883393773, 0.885261227045108, 0.9102422263350562, 0.8683521870476345, 0.8129736977254615], output: [a]},
{input: [0.8501792147387861, 0.8858276256516536, 0.9102094796843915, 0.868434288462129, 0.8159990666639235], output: [a]},
{input: [0.8451454223706121, 0.9643234226730367, 0.9939130348043586, 0.9422704651768725, 0.8768385203616456], output: [a]},
{input: [0.8451454223706121, 0.9643234226730367, 0.9939130348043586, 0.9422704651768725, 0.8768385203616456], output: [a]},
{input: [0.8642991113058025, 0.9694641320301645, 0.9911454550892116, 0.9311460809400426, 0.8618656984200035], output: [a]},
{input: [0.8642991113058025, 0.9694641320301645, 0.9911454550892116, 0.9311460809400426, 0.8618656984200035], output: [a]},
{input: [0.8293616164671476, 0.9570645165243563, 0.9861326709388549, 0.9403493429305939, 0.881080097619961], output: [a]},
{input: [0.824531436643261, 0.9574014583950664, 0.9855778703329332, 0.936477900209076, 0.8780549558433117], output: [a]},
{input: [0.8484469165186469, 0.9635759642430897, 0.9905088558536632, 0.9413374288304327, 0.875753994795913], output: [a]},
{input: [0.831365460071562, 0.9089999526540141, 0.9361583335087929, 0.8925087402462792, 0.8361809358392478], output: [a]},
{input: [0.8481669339104184, 0.916036594516289, 0.9391904690455499, 0.890402739183792, 0.8323993987054833], output: [a]},
{input: [0.8551428421721425, 0.9233713384252568, 0.943485979468296, 0.899480238232197, 0.8410931224955118], output: [a]},
{input: [0.8228858715198846, 0.9120872295284264, 0.938652487898349, 0.8981552883942955, 0.837831703974038], output: [a]},
{input: [0.7975060753078939, 0.9137804068330639, 0.9395577097895584, 0.8951758729009625, 0.8389188305338307], output: [a]},
{input: [0.7975060753078939, 0.9137804068330639, 0.9395577097895584, 0.8951758729009625, 0.8389188305338307], output: [a]},
{input: [0.7812339404813388, 0.9139942112070513, 0.9396063196301949, 0.8943747540561504, 0.8372952468059272], output: [a]},
{input: [0.7875705797349214, 0.9132654014907168, 0.9389737249092757, 0.894106326530156, 0.8387255245370799], output: [a]},
{input: [0.783703712603813, 0.9095144076736552, 0.9369852830562495, 0.8929023601295946, 0.834154068837502], output: [a]},
{input: [0.783703712603813, 0.9095144076736552, 0.9369852830562495, 0.8929023601295946, 0.834154068837502], output: [a]},
{input: [0.7966137879982998, 0.9120486628212334, 0.93217971225083, 0.8876362890243955, 0.8311708874774187], output: [a]},
{input: [0.7931957924503885, 0.913621397810384, 0.9367282782493546, 0.8878058629520308, 0.8296236130348508], output: [a]},
{input: [0.7902138042435098, 0.9084752155958905, 0.9333308955890189, 0.886056551355499, 0.8313687699947659], output: [a]},
{input: [0.7964924134792497, 0.9179451568977309, 0.9391264191463309, 0.8877955995819083, 0.828584621284996], output: [a]},
{input: [0.8116292335937636, 0.9177902583640773, 0.9414560783302639, 0.8891183515316957, 0.8360128584806575], output: [a]},
        {input: [0.5818564787952782, 0.3766804304410438, 0.40235434911795126, 0.3600754810584027, 0.3030149972932695], output: [b]},
        {input: [0.5765663460123215, 0.4120950437495699, 0.41268795253353147, 0.35922782943558246, 0.3060750747855825], output: [b]},
        {input: [0.6026550552098605, 0.37881478994655154, 0.39171021692654373, 0.3594045836998881, 0.3198917157101757], output: [b]},
        {input: [0.6082025648951178, 0.3788374517190718, 0.392107287086787, 0.3674161716694707, 0.3223828616691652], output: [b]},
        {input: [0.6074291804129598, 0.38353361832903254, 0.4039600110350158, 0.3783004826721874, 0.3289762789311108], output: [b]},
        {input: [0.6139198125132386, 0.390926723201024, 0.4101637624019095, 0.38191905165304335, 0.32666733033453177], output: [b]},
        {input: [0.6000221487578604, 0.4125742162678129, 0.42545702779481737, 0.3917272101360842, 0.326043287395416], output: [b]},
        {input: [0.5949909273414259, 0.6405261474522332, 0.5974622498953386, 0.41255895774179957, 0.40515466780107573], output: [b]},
        {input: [0.5949909273414259, 0.6405261474522332, 0.5974622498953386, 0.41255895774179957, 0.40515466780107573], output: [b]},
        {input: [0.6144084542836711, 0.40290089456465594, 0.4091912100974312, 0.37443110710115945, 0.31019299677781254], output: [b]},
        {input: [0.6144084542836711, 0.40290089456465594, 0.4091912100974312, 0.37443110710115945, 0.31019299677781254], output: [b]},
        {input: [0.45728136773283246, 0.3817112509837901, 0.3933936539851781, 0.3712234337905004, 0.3152811262156568], output: [b]},
        {input: [0.45728136773283246, 0.3817112509837901, 0.3933936539851781, 0.3712234337905004, 0.3152811262156568], output: [b]},
        {input: [0.4650789714088996, 0.37807929009582103, 0.39218728022841326, 0.366824863742304, 0.31904452782541876], output: [b]},
        {input: [0.4664624336524861, 0.3723459090818643, 0.3900872592292653, 0.5249206384597579, 0.44319033913771166], output: [b]},
        {input: [0.46904489991577564, 0.37262628552612864, 0.38564269475772506, 0.528064758712414, 0.445952982917482], output: [b]},
        {input: [0.4498488666485666, 0.43593462828772833, 0.4620599343919465, 0.5316162952261714, 0.4415325858418717], output: [b]},
        {input: [0.5045037794516509, 0.4422435933035097, 0.46923208313584014, 0.643391166847976, 0.5229612472258343], output: [b]},
        {input: [0.5657786718395807, 0.481468040193334, 0.5269498266085302, 0.6631096415922785, 0.558351397190873], output: [b]},
        {input: [0.49668681076207366, 0.47548635469800815, 0.5117649717165097, 0.5361030494447871, 0.461752248553269], output: [b]},
        {input: [0.5749422833688439, 0.3901304671042496, 0.3948131449323591, 0.37389263850279275, 0.3569984374052357], output: [b]},
        {input: [0.5659760671028855, 0.37505203265180415, 0.38717928916233363, 0.35802139657316573, 0.3476356888773793], output: [b]},
        {input: [0.5659760671028855, 0.37505203265180415, 0.38717928916233363, 0.35802139657316573, 0.3476356888773793], output: [b]},
        {input: [0.6003252765427173, 0.46859037179768215, 0.46750854972362804, 0.40611176275923117, 0.36047573113778403], output: [b]},
        {input: [0.6003252765427173, 0.46859037179768215, 0.46750854972362804, 0.40611176275923117, 0.36047573113778403], output: [b]},
        {input: [0.6005110859529239, 0.4719282106114127, 0.471566947249232, 0.41428289834464566, 0.36151316340461237], output: [b]},
        {input: [0.6005110859529239, 0.4719282106114127, 0.471566947249232, 0.41428289834464566, 0.36151316340461237], output: [b]},
        {input: [0.5360454427894057, 0.44311564306838114, 0.47600025940808066, 0.40123844195292413, 0.35112615765601973], output: [b]}]);
        output.innerHTML += "START2 ";

        Leap.loop(function (frame) {
          if (frame.pointables.length > 0) {
/*
          output.innerHTML += "{input: [" + Math.sqrt(Math.pow(frame.fingers[0].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
        Math.pow(frame.fingers[0].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
      Math.pow(frame.fingers[0].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100 +  ", "
                       + Math.sqrt(Math.pow(frame.fingers[1].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
                    Math.pow(frame.fingers[1].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
                  Math.pow(frame.fingers[1].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100 +  ", "
                       + Math.sqrt(Math.pow(frame.fingers[2].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
                    Math.pow(frame.fingers[2].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
                  Math.pow(frame.fingers[2].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100 +  ", "
                   + Math.sqrt(Math.pow(frame.fingers[3].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
                Math.pow(frame.fingers[3].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
              Math.pow(frame.fingers[3].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100 +  ", "
               + Math.sqrt(Math.pow(frame.fingers[4].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
            Math.pow(frame.fingers[4].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
          Math.pow(frame.fingers[4].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100 +  "], output: [a]}, <br>";

*/
                    output.innerHTML += Math.round(net.run([Math.sqrt(Math.pow(frame.fingers[0].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
                  Math.pow(frame.fingers[0].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
                Math.pow(frame.fingers[0].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100,
                                 Math.sqrt(Math.pow(frame.fingers[1].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
                              Math.pow(frame.fingers[1].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
                            Math.pow(frame.fingers[1].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100,
                                 Math.sqrt(Math.pow(frame.fingers[2].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
                              Math.pow(frame.fingers[2].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
                            Math.pow(frame.fingers[2].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100,
                             Math.sqrt(Math.pow(frame.fingers[3].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
                          Math.pow(frame.fingers[3].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
                        Math.pow(frame.fingers[3].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100,
                         Math.sqrt(Math.pow(frame.fingers[4].tipPosition[0] - frame.hands[0].palmPosition[0], 2) +
                      Math.pow(frame.fingers[4].tipPosition[1] - frame.hands[0].palmPosition[1], 2) +
                    Math.pow(frame.fingers[4].tipPosition[2] - frame.hands[0].palmPosition[2], 2))/100])) + "<br>";
                  }
            sleep(1000);
        });
    </script>
  </head>
</html>
</em>
